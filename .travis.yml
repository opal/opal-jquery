---
language: ruby
sudo: false

fast_finish: true
script: bundle exec rake $RUN

matrix:
  include:
    - rvm: 2.6
      env: OPAL_VERSION='master'
    - rvm: 2.5
      env: OPAL_VERSION='~> 1.0.1' RUN='jquery3'
    - rvm: 2.4
      env: OPAL_VERSION='~> 0.11.4'

  allow_failures:
    - rvm: 2.5 # opal 1.0
    - rvm: 2.4 # opal 0.11

cache:
  bundler: true
  directories:
  - node_modules

addons:
  chrome: stable
